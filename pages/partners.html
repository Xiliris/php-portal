{{navbar}}
<main id="partners-page">
  <h1>Partners</h1>
  <section id="partners-container">
  </section>
</main>
{{footer}}

<script>
  const partnersContainer = document.getElementById("partners-container");

  async function fetchPartners() {
    try {
      const response = await fetch("/api/routes/partners/get-partner.php");

      if (!response.ok) {
        throw new Error("Network response was not ok.");
      }
      const data = await response.json();

      if (data.data && Array.isArray(data.data)) {
        data.data.forEach((partner) => {
          appendPartnerItem(partner);
        });

      } else {
        console.error("Unexpected data format", data);
      }

    } catch (error) {
      console.error("Failed to fetch donations:", error);
    }
  }


  function appendPartnerItem(partner) {
    const article = document.createElement("article");
    article.classList.add("partner-item");

    article.innerHTML = `
        <a href="${partner.link}" target="_blank">
          <img src="${partner.image_path}" alt="Partner Image" />
        </a>
      `;

    partnersContainer.appendChild(article);
  }

  fetchPartners();

</script>

<style>
  h1 {
    margin-top: 100px;
  }

  #partners-page {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 2em;
  }

  #partners-container {
    display: flex;
    flex-wrap: wrap;
    gap: 1em;
    margin-top: 2em;
    justify-content: flex-start;
  }

  .partner-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 150px;
    padding: 1em;
    text-align: center;
  }

  .partner-item img {
    max-width: 100%;
  }

  @media screen and (max-width: 1200px) {
    .partner-item {
      width: 200px;
    }
  }

  @media screen and (max-width: 768px) {
    .partner-item {
      width: 150px;
    }
  }

  @media screen and (max-width: 480px) {
    #partners-container {
      justify-content: center;
    }

    .partner-item {
      width: 100px;
      padding: 0.5em;
    }
  }
</style>