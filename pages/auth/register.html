{{navbar}}
<div class="register--container">
    <form id="registerForm" action="../api/routes/register.php" method="post">
        <h2>Register</h2>
        <div>
            <label for="username">Username</label>
            <input type="text" name="username" placeholder="Username" />
        </div>
        <div>
            <label for="name">Name</label>
            <input type="text" name="name" placeholder="Name" />
        </div>
        <div>
            <label for="surname">Surname</label>
            <input type="text" name="surname" placeholder="Surname" />
        </div>
        <div>
            <label for="email">Email</label>
            <input type="email" name="email" placeholder="Email" />
        </div>
        <div>
            <label for="password">Password</label>
            <input type="password" name="password" placeholder="Password" />
        </div>
        <div>
            <label for="confirm_password">Confirm Password</label>
            <input type="password" name="confirm_password" placeholder="Confirm Password" />
        </div>
        <a href="/login" data-link>Already have an account?</a>
        <button type="submit" class="btn-primary">Register</button>
    </form>
</div>

<script>
    document
        .getElementById("registerForm")
        .addEventListener("submit", function (e) {
            e.preventDefault();
            const formData = new FormData(this);
            fetch("/api/routes/register.php", {
                method: "POST",
                body: formData,
            })
                .then((response) => response.json())
                .then((data) => {
                    if (data.success) {
                        alert(data.message);
                        window.location.href = "/login";
                    } else {
                        alert(data.message);
                    }
                })
                .catch((error) => {
                    console.error("Error:", error);
                    alert("Failed to register. Please try again later.");
                });
        });
</script>

<style>
    .register--container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
    }

    #registerForm {
        display: flex;
        flex-direction: column;
        gap: 1rem;
        border: 1px solid #ccc;
        border-radius: 12px;
        padding: 2rem;
        width: 400px;
    }

    #registerForm h2 {
        text-align: center;
    }

    #registerForm input {
        margin-top: 0.2rem;
        padding: 0.7rem;
        border: 1px solid #ccc;
        border-radius: 5px;
        width: 100%;
        font-size: 1.1rem;
    }

    #registerForm div {
        display: flex;
        flex-direction: column;
    }
</style>